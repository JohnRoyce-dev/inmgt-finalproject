<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supplier Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        :root { --purple-nav: #5d3fd3; }
        body { background-color: #f4f7fe; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .sidebar { width: 260px; height: 100vh; background: #fff; position: fixed; border-right: 1px solid #f0f0f0; }
        .nav-link { color: #555; padding: 12px 20px; border-radius: 8px; margin: 4px 15px; display: flex; align-items: center; text-decoration: none; }
        .nav-link:hover { background: #f8f9fa; color: var(--purple-nav); }
        .nav-link.active { background: var(--purple-nav); color: white !important; }
        .main-content { margin-left: 260px; padding: 25px; min-height: 100vh; }
        .card { border: none; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.03); }
        .btn-purple { background-color: var(--purple-nav); color: white; border-radius: 8px; border: none; }
        .btn-purple:hover { background-color: #4b32b3; color: white; }
    </style>
</head>
<body>

<div class="sidebar d-flex flex-column pt-3">
    <div class="px-4 mb-4">
        <h4 class="fw-bold mb-0" style="color: var(--purple-nav);">Inventory & Sales</h4>
        <small class="text-muted">Management System</small>
    </div>
    <nav class="nav flex-column">
        <a href="/" class="nav-link"><i class="bi bi-grid-fill me-2"></i> Dashboard</a>
        <a href="/products" class="nav-link"><i class="bi bi-box-seam me-2"></i> Products</a>
        <a href="/suppliers" class="nav-link active"><i class="bi bi-truck me-2"></i> Suppliers</a>
        <a href="/pos" class="nav-link"><i class="bi bi-cart me-2"></i> POS</a>
        <a href="/inventory" class="nav-link"><i class="bi bi-archive me-2"></i> Inventory</a>
        <a href="/users" class="nav-link"><i class="bi bi-people me-2"></i> Users</a>
    </nav>
</div>

<div class="main-content">
    <div class="d-flex justify-content-between align-items-center mb-1">
        <h5 class="fw-bold text-muted mb-0">Admin User</h5>
        <div class="d-flex align-items-center">
            <span class="small text-muted me-3">Admin User<br>Admin</span>
            <a href="/logout" class="btn btn-sm btn-outline-secondary"><i class="bi bi-box-arrow-right"></i> Logout</a>
        </div>
    </div>

    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="fw-bold mb-0">Supplier Management</h2>
            <p class="text-muted">Manage your suppliers</p>
        </div>
        <button class="btn btn-purple px-4" data-bs-toggle="modal" data-bs-target="#addSupplierModal">
            <i class="bi bi-plus"></i> Add Supplier
        </button>
    </div>

    <div class="card p-4">
        <h6 class="fw-bold mb-4">Suppliers List</h6>
        <div class="table-responsive">
            <table class="table align-middle">
                <thead>
                    <tr class="text-muted">
                        <th>Name</th>
                        <th>Contact</th>
                        <th>Address</th>
                        <th class="text-end">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% if (suppliers && suppliers.length > 0) { %>
                        <% suppliers.forEach(supplier => { %>
                        <tr>
                            <td class="fw-bold"><%= supplier.name %></td>
                            <td><%= supplier.contact %></td>
                            <td class="text-muted"><%= supplier.address %></td>
                            <td class="text-end">
                                <button class="btn btn-sm btn-light border me-1"><i class="bi bi-pencil"></i></button>
                                <button class="btn btn-sm btn-light border text-danger"><i class="bi bi-trash"></i></button>
                            </td>
                        </tr>
                        <% }) %>
                    <% } else { %>
                        <tr><td colspan="4" class="text-center text-muted">No suppliers found.</td></tr>
                    <% } %>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="modal fade" id="addSupplierModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" style="border-radius: 15px;">
            <div class="modal-header border-0">
                <h5 class="modal-title fw-bold">Add New Supplier</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="/add-supplier" method="POST">
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Supplier Name</label>
                        <input type="text" name="name" class="form-control" placeholder="e.g. TechSupply Co" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Contact Number</label>
                        <input type="text" name="contact" class="form-control" placeholder="+1 (555) 123-4567" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Address</label>
                        <input type="text" name="address" class="form-control" placeholder="123 Street, City, Zip" required>
                    </div>
                </div>
                <div class="modal-footer border-0">
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-purple px-4">Save Supplier</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>